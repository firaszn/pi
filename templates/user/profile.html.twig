{% extends 'base.html.twig' %}
{% form_theme form _self %}

{% block form_errors %}
    {% if errors|length > 0 %}
        <div class="alert alert-danger" style="font-size: 0.5em;">
            {% for error in errors %}
                <div style="color: red;">{{ error.message }}</div>
            {% endfor %}
        </div>
    {% endif %}
{% endblock %}

{% block body %}

    {% if not formSubmitted %}
        <!-- begin::details View -->
        <div class="card mb-5 mb-xl-10" id="kt_profile_details_view" style="margin-top: 120px; margin-left: 50px; margin-right: 50px">
            <!-- begin::Card header -->
            <div class="card-header cursor-pointer">
                <!-- begin::Card title -->
                <div class="card-title m-0">
                    <h3 class="fw-bold m-0">Profile Details</h3>
                </div>
                <!-- end::Card title -->
                <!-- begin::Action -->
                <!-- end::Action -->
            </div>
            <!-- begin::Card header -->
            <!-- begin::Card body -->
            <div class="card-body p-9">
                <!-- begin::Row -->
                <div class="row mb-7">
                    <!-- begin::Label -->
                    <label class="col-lg-4 fw-semibold text-muted">Full Name</label>
                    <!-- end::Label -->
                    <!-- begin::Col -->
                    <div class="col-lg-8">
                        <span class="fw-bold fs-6 text-gray-800">{{ user.nom ~ ' ' ~ user.prenom }}</span>
                    </div>
                    <!-- end::Col -->
                </div>
                <!-- end::Row -->
                <!-- begin::Input group -->
                <div class="row mb-7">
                    <!-- begin::Label -->
                    <label class="col-lg-4 fw-semibold text-muted">Adresse</label>
                    <!-- end::Label -->
                    <!-- begin::Col -->
                    <div class="col-lg-8 fv-row">
                        <span class="fw-semibold text-gray-800 fs-6">{{ user.adresse }}</span>
                    </div>
                    <!-- end::Col -->
                </div>
                <!-- end::Input group -->

                <!-- end::Input group -->
                <!-- begin::Input group -->
                <div class="row mb-7">
                    <!-- begin::Label -->
                    <label class="col-lg-4 fw-semibold text-muted">Email</label>
                    <!-- end::Label -->
                    <!-- begin::Col -->
                    <div class="col-lg-8">
                        <span class="fw-bold fs-6 text-gray-800">{{ user.email }}</span>
                    </div>
                    <!-- end::Col -->
                </div>
                <!-- end::Input group -->
            </div>
            <!-- end::Card body -->
        </div>
        <!-- end::details View -->
    {% endif %}

    <!-- begin::Update Profile Form -->
    <h1>Update Profile</h1>
{{ form_start(form, {'attr': {'novalidate': 'novalidate'}}) }}
        {{ form_row(form.nom) }}
        {% for error in form.nom.vars.errors %}
            <div style="color: red;">{{ error.message }}</div>
        {% endfor %}
        {{ form_row(form.prenom) }}
        {% for error in form.prenom.vars.errors %}
            <div style="color: red;">{{ error.message }}</div>
        {% endfor %}
        {{ form_row(form.email) }}
        {% for error in form.email.vars.errors %}
            <div style="color: red;">{{ error.message }}</div>
        {% endfor %}
        {{ form_row(form.adresse) }}
        {% for error in form.adresse.vars.errors %}
            <div style="color: red;">{{ error.message }}</div>
        {% endfor %}
        {{ form_row(form.password) }}
        {% for error in form.password.vars.errors %}
            <div style="color: red;">{{ error.message }}</div>
        {% endfor %}
     {{ form_widget(form._token) }}   

        {{ form_row(form.update) }}
    {{ form_end(form) }}
    <!-- end::Update Profile Form -->

{% endblock %}
